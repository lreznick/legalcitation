We assume that you have root access for all of the installation process

0. Give yourself root access
	sudo su (if you do this you dont need to sudo anything)
	
1. Get Apache 2
	apt-get install apache2 apache2.2-common apache2-mpm-prefork apache2-utils libexpat1 ssl-cert
	
2. Get Pip
	apt-get install python-pip
	
3. Get web.py
	pip install web.py

4. Get passlib
	apt-get install python-passlib

5. Get MySQL
	 apt-get install python-mysql.connector
	 apt-get install python-mysqldb
	
4. Get mod_wsgi
	 apt-get install libapache2-mod-wsgi
	
	4.0 Check to see its working
		service apache2 restart
		put ip address in web browser to see if it works
		
5. enable mod_rewrite
	a2enmod rewrite

	
6. SFTP (filezilla)
	6.1 Giving permissions to allow filezilla in
		cd /var/www
		mkdir legal
		chown -R ubuntu /var/www/
		chmod -R 755 /var/www/ 
	6.2 Connecting in Filezilla
		Open Site manager
			host: some ip like 54.213.173.233
			Port: 22
			Protocol: SFTP
			Login Type: Normal
			User: Ubuntu
			Pass: empty
		Edit -> Setting -> SFTP: add your key	
	6.3 Add all of your code Using Filezilla
		
	
	
7 Modifying your code: 
	go to main.py (in var/www/legal)
	7.1 Wsgifunc()
			app = web.application(urls, globals(), autoreload=False)
			application = app.wsgifunc()
			
			application = app.run()
			CHANGES TO
			application =app.wsgifunc()	
			***ensure it is at the top!!!!! ****
			
	7.2 Ensure python can find all of your files
			AT THE TOP OF YOUR FILE - UNCOMMENT THIS BAD BOY
			import os
			import sys
			root = os.path.join(os.path.dirname(__file__)+"/")
			sys.path.insert(0, root)
			modules = os.path.join(os.path.dirname(__file__)+"/server/")
			sys.path.insert(1, modules)
			os.chdir(root)
			
6. Configuration of apache
	cd /etc/apache2/sites-available
	
	6.1 Changing the default file
	vim default
	change everything to:
		<VirtualHost *:80>
				ServerAdmin webmaster@localhost
				DocumentRoot /var/www/legal/
				DirectoryIndex main.py
				WSGIScriptAlias / /var/www/legal/
				Alias /static /var/www/legal/static/
				<Directory />
						Options FollowSymLinks
						AllowOverride None
				</Directory>
				<Directory /var/www/legal/>
						Options +Indexes +FollowSymLinks +MultiViews
						#changed from non to FileInfo
						AllowOverride FileInfo Options
						Order allow,deny
						allow from all
				</Directory>
				#ScriptAlias /cgi-bin/ /usr/lib/cgi-bin/
				#<Directory "/usr/lib/cgi-bin">
				#        AllowOverride None
				#        Options +ExecCGI -MultiViews +SymLinksIfOwnerMatch
				#        Order allow,deny
				#        Allow from all
				#</Directory>
				ErrorLog ${APACHE_LOG_DIR}/error.log
				# Possible values include: debug, info, notice, warn, error, crit,
				# alert, emerg.
				LogLevel info
				CustomLog ${APACHE_LOG_DIR}/access.log combined
		</VirtualHost>
		
	6.1 Test to see if there are errors
		apachectl configtest
	6.2 Monitor For errors when messing with config files (optional)
		tail -f /var/log/apache2/error.log
		and 

	
	7.2 Creating a .htaccess file
		cd /var/www/legal
	    vim .htaccess
		Then add:
			<Files main.py>
				SetHandler wsgi-script
				Options +ExecCGI +FollowSymLinks
			</Files>
			RewriteEngine On
			RewriteBase /
			RewriteCond %{REQUEST_URI} !^favicon.ico$
			RewriteCond %{REQUEST_URI} !^(/.*)+main.py/
			RewriteCond %{REQUEST_URI} !^(/.*)+\.(css|png|js|jpg|ttf|otf|gif)$
			RewriteRule ^(.*)$ main.py/$1 [PT]
			


	
8 Restart
	 service apache2 restart
	
	
9 Profit!
